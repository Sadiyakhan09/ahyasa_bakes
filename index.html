<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ahyasa_bakes â€¢ Homemade Joy</title>
  <meta name="description" content="Ahyasa Bakes â€” homemade cakes, cupcakes, pastries and more. Fresh, pretty, and made with love." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">
  <!-- Tailwind CSS (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- GSAP (optional animations) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <style>
    :root{
      --bg:#fff8f8; --brand:#e66a8d; --brand-dark:#b04a67; --accent:#ffd7e0;
    }
    html{scroll-behavior:smooth}
    body{background:var(--bg)}
    .grain{position:fixed;inset:0;pointer-events:none;opacity:.07;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.6"/></svg>');mix-blend-mode:multiply}
    @keyframes bobble{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
    .floaty{animation:bobble 3.5s ease-in-out infinite}
    .underline-squiggle{background:linear-gradient(transparent 70%, var(--accent) 0)}
    .lift{transition:transform .25s ease, box-shadow .25s ease}
    .lift:hover{transform:translateY(-6px); box-shadow:0 12px 24px rgba(0,0,0,.08)}
    .brand-gradient{background:linear-gradient(135deg, var(--brand), var(--brand-dark))}
    .btn{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;border-radius:.75rem}
    .btn-primary{color:#fff; background:linear-gradient(135deg, var(--brand), var(--brand-dark))}
    .btn-outline{border:1px solid rgb(254 205 211); background:#fff}
    .badge{display:inline-flex;align-items:center;justify-content:center;height:1.75rem;padding:0 .75rem;border-radius:999px;font-weight:700}
  </style>
</head>
<body class="text-stone-800 antialiased selection:bg-rose-200/60">
  <div class="grain"></div>

  <!-- Header -->
  <header class="sticky top-0 z-40 backdrop-blur bg-white/70 border-b border-rose-100/70">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between">
      <a href="#home" class="flex items-center gap-2">
        <!-- LOGO -->
        <div class="w-10 h-10 rounded-2xl overflow-hidden shadow-sm ring-1 ring-rose-100 flex items-center justify-center bg-white">
          <img src="assests/Logo.jpg" alt="Ahyasa Bakes Logo" class="w-full h-full object-contain"/>
          
        </div>
        <div>
          <p class="font-extrabold tracking-wide" style="font-family:'Playfair Display',serif;">ahyasa_bakes</p>
          <p class="text-xs text-stone-500 -mt-1">homemade â€¢ fresh â€¢ pretty</p>
        </div>
      </a>

      <nav class="hidden md:flex items-center gap-6 font-semibold">
        <a class="hover:text-rose-600" href="#menu">Menu</a>
        <a class="hover:text-rose-600" href="#gallery">Gallery</a>
        <a class="hover:text-rose-600" href="#about">About</a>
        <a class="hover:text-rose-600" href="#order">Contact</a>
        <!-- CART BUTTON -->
        <button id="openCart" class="relative btn btn-outline hover:bg-rose-50">
          ğŸ›’ Cart
          <span id="cartCountBadge" class="absolute -top-2 -right-2 badge bg-rose-600 text-white text-xs px-2 hidden">0</span>
        </button>
        <a class="ml-2 btn btn-primary shadow-md hover:shadow-lg" href="#menu">Order</a>
      </nav>

      <div class="flex items-center gap-2 md:hidden">
        <button id="openCartSm" class="relative p-2 px-3 rounded-xl border border-rose-200 hover:bg-rose-50">
          ğŸ›’ <span id="cartCountBadgeSm" class="absolute -top-1 -right-1 badge bg-rose-600 text-white text-[10px] px-1 hidden">0</span>
        </button>
        <button id="openNav" class="p-2 px-3 rounded-xl border border-rose-200 hover:bg-rose-50">Menu</button>
      </div>
    </div>
  </header>

  <!-- Mobile Drawer -->
  <div id="drawer" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/30" id="drawerBackdrop"></div>
    <div class="ml-auto w-72 h-full bg-white shadow-xl p-6 space-y-6">
      <div class="flex items-center justify-between">
        <span class="font-extrabold" style="font-family: 'Playfair Display', serif;">Navigation</span>
        <button id="closeNav" class="p-2">âœ•</button>
      </div>
      <a class="block py-2" href="#menu">Menu</a>
      <a class="block py-2" href="#gallery">Gallery</a>
      <a class="block py-2" href="#about">About</a>
      <a class="block py-2" href="#order">Contact</a>
    </div>
  </div>

  <!-- Cart Slide-over -->
  <aside id="cartPanel" class="fixed top-0 right-0 h-full w-full sm:w-[28rem] bg-white shadow-2xl z-50 translate-x-full transition-transform">
    <div class="h-full flex flex-col">
      <div class="p-4 border-b border-rose-100 flex items-center justify-between">
        <h3 class="text-xl font-extrabold">Your Cart</h3>
        <button id="closeCart" class="p-2 rounded-lg hover:bg-rose-50">âœ•</button>
      </div>
      <div id="cartItems" class="flex-1 overflow-y-auto p-4 space-y-3"></div>
      <div class="border-t border-rose-100 p-4 space-y-3">
        <div class="flex items-center justify-between text-lg font-extrabold">
          <span>Total</span><span>â‚¹ <span id="cartTotal">0</span></span>
        </div>
        <!-- Checkout / Payment -->
        <div class="grid grid-cols-1 gap-3">
          <a id="upiPayBtn" target="_blank" class="btn btn-primary justify-center shadow-md hover:shadow-lg" href="#">Pay with UPI App</a>
          <button id="showQR" class="btn btn-outline justify-center hover:bg-rose-50">Show QR / UPI ID</button>
          <p class="text-xs text-stone-500 text-center">UPI ID: <strong>sadiyakhan9901@okhdfcbank</strong></p>
        </div>
      </div>
    </div>
  </aside>

  <!-- QR Modal -->
  <div id="qrModal" class="fixed inset-0 bg-black/50 z-[60] hidden">
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="bg-white rounded-2xl p-6 w-full max-w-sm space-y-4">
        <div class="flex items-start justify-between">
          <h4 class="text-lg font-extrabold">Scan to Pay</h4>
          <button id="closeQR" class="p-1 rounded hover:bg-rose-50">âœ•</button>
        </div>
        <img src="assets/upi-qr.png" alt="UPI QR" class="w-full rounded-xl border border-rose-100"/>
        <div class="text-sm">
          <p>Payee: <strong>Sadiya Khan</strong></p>
          <p>UPI ID: <strong class="font-mono">sadiyakhan9901@okhdfcbank</strong></p>
          <p>Amount: â‚¹ <span id="qrAmount" class="font-bold">0</span></p>
        </div>
        <a id="upiPayBtn2" target="_blank" class="btn btn-primary w-full justify-center" href="#">Open in UPI App</a>
        <button id="copyUpi" class="btn btn-outline w-full justify-center hover:bg-rose-50">Copy UPI ID</button>
      </div>
    </div>
  </div>

  <!-- Hero -->
  <section id="home" class="overflow-hidden relative">
    <div class="absolute -top-24 -right-24 w-[28rem] h-[28rem] rounded-full blur-3xl opacity-30 brand-gradient"></div>
    <div class="absolute -bottom-20 -left-20 w-[24rem] h-[24rem] rounded-full blur-3xl opacity-20 bg-rose-200"></div>

    <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-10 items-center px-4 sm:px-6 lg:px-8 pt-12 md:pt-20 pb-16">
      <div>
        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight" style="font-family:'Playfair Display',serif;">
          Homemade joy, <span class="underline-squiggle">fresh from our oven</span>
        </h1>
        <p class="mt-5 text-lg text-stone-600 max-w-prose">Small-batch cakes, cupcakes, cookies and breads â€” baked with love in our kitchen and decorated to make your moments sweeter.</p>
        <div class="mt-8 flex items-center gap-4">
          <a href="#menu" class="btn btn-primary shadow-md hover:shadow-lg lift">View Menu</a>
          <a href="#menu" class="btn btn-outline bg-white/80 backdrop-blur hover:bg-white lift">Order on WhatsApp</a>
        </div>
        <div class="mt-6 flex items-center gap-3 text-sm text-stone-500">
          <span>âœ¦ Eggless options</span>
          <span>âœ¦ Custom designs</span>
          <span>âœ¦ Same-day pickup*</span>
        </div>
      </div>

      <!-- CHEF PHOTO: full image shown (no crop) -->
      <div class="relative">
        <div class="absolute -inset-4 rounded-[2rem] bg-rose-300/20 blur-2xl"></div>
        <div class="relative rounded-[2rem] overflow-hidden shadow-xl border border-rose-100 bg-white grid place-items-center">
          <img src ="assests/chef.png" alt="" class="class="w-full h-auto/>
        </div>
        <div class="absolute -bottom-6 -left-6 bg-white/80 backdrop-blur rounded-2xl border border-rose-100 p-4 shadow-md lift">
          <p class="font-bold">Best Seller</p>
          <p class="text-stone-600">Strawberry Shortcake</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Highlights -->
  <section class="py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-3 gap-6">
        <div class="bg-white rounded-2xl p-6 border border-rose-100 lift">
          <p class="text-2xl">ğŸ‚</p>
          <h3 class="mt-2 font-extrabold">Custom Cakes</h3>
          <p class="text-stone-600 mt-1">From minimal to whimsical â€” tailored for birthdays, weddings, or tiny celebrations.</p>
        </div>
        <div class="bg-white rounded-2xl p-6 border border-rose-100 lift">
          <p class="text-2xl">ğŸ§</p>
          <h3 class="mt-2 font-extrabold">Cupcakes & Pastries</h3>
          <p class="text-stone-600 mt-1">Box of six? A dozen? Mix and match flavors you love.</p>
        </div>
        <div class="bg-white rounded-2xl p-6 border border-rose-100 lift">
          <p class="text-2xl">ğŸ</p>
          <h3 class="mt-2 font-extrabold">Breads & Cookies</h3>
          <p class="text-stone-600 mt-1">Fresh loaves and cookies with that perfect soft-chewy bite.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Menu (auto-rendered from JS, with Add to Cart) -->
  <section id="menu" class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-end justify-between gap-6">
        <div>
          <h2 class="text-3xl sm:text-4xl font-extrabold" style="font-family:'Playfair Display',serif;">Menu</h2>
          <p class="text-stone-600 mt-2">Popular picks. Tap â€œAddâ€ to drop into your cart.</p>
        </div>
        <button class="hidden md:inline-flex btn btn-primary shadow-md hover:shadow-lg" id="openCart2">Open Cart</button>
      </div>

      <div id="menuGrid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8"></div>
      <p class="text-xs text-stone-500 mt-4">Prices are indicative. Custom designs & sizes are quoted after a quick chat.</p>
    </div>
  </section>

  <!-- Gallery -->
  <section id="gallery" class="py-16 bg-white/60 border-y border-rose-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-end justify-between gap-6">
        <div>
          <h2 class="text-3xl sm:text-4xl font-extrabold" style="font-family:'Playfair Display',serif;">Gallery</h2>
          <p class="text-stone-600 mt-2">A peek into our kitchen magic.</p>
        </div>
      </div>

      <div class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <img class="rounded-2xl h-64 w-full object-cover lift" src="https://images.unsplash.com/photo-1541781774459-bb2af2f05b55?q=80&w=1600&auto=format&fit=crop" alt="Cake with berries"/>
        <img class="rounded-2xl h-64 w-full object-cover lift" src="https://images.unsplash.com/photo-1541167760496-1628856ab772?q=80&w=1600&auto=format&fit=crop" alt="Cookies"/>
        <img class="rounded-2xl h-64 w-full object-cover lift" src="https://images.unsplash.com/photo-1499636136210-6f4ee915583e?q=80&w=1600&auto=format&fit=crop" alt="Cupcakes"/>
        <img class="rounded-2xl h-64 w-full object-cover lift" src="https://images.unsplash.com/photo-1554104707-a76b270e4bbb?q=80&w=1600&auto=format&fit=crop" alt="Pastries"/>
        <img class="rounded-2xl h-64 w-full object-cover lift" src="https://images.unsplash.com/photo-1511920170033-f8396924c348?q=80&w=1600&auto=format&fit=crop" alt="Eclairs"/>

      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="py-16">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl sm:text-4xl font-extrabold" style="font-family:'Playfair Display',serif;">About Ahyasa Bakes</h2>
      <p class="mt-4 text-stone-600 max-w-2xl mx-auto">Weâ€™re a home bakery passionate about simple, beautiful bakes. Everything is crafted to order using quality ingredients. We love custom themes â€” tell us your colours, weâ€™ll match the vibe!</p>
      <div class="mt-8 flex items-center justify-center gap-3 text-sm text-stone-500">
        <span>ğŸ¨ Custom designs</span>
        <span>ğŸ¥š Eggless available</span>
        <span>ğŸšš Local delivery</span>
        <span>ğŸ“¦ Pickup</span>
      </div>
    </div>
  </section>

<!-- Order / Contact -->
<section id="order" class="py-16 bg-white/70 border-y border-rose-100">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid lg:grid-cols-2 gap-10 items-center">
      <div>
        <h2 class="text-3xl sm:text-4xl font-extrabold" style="font-family:'Playfair Display',serif;">Ready to order?</h2>
        <p class="text-stone-600 mt-2">Tell us your date, flavour, size and theme. Weâ€™ll confirm in minutes on WhatsApp.</p>
        <div class="mt-6 space-y-3">
          <a href="https://wa.me/0000000000?text=Hi%20Ahyasa%20Bakes!%20I%20want%20to%20place%20an%20order." target="_blank" class="btn btn-primary shadow-md hover:shadow-lg lift">ğŸ“² Chat on WhatsApp</a>
          <a href="tel:+910000000000" class="block">ğŸ“ Call us: +91-00000-00000</a>
          <p class="text-sm text-stone-500">Open daily 10am â€“ 7pm</p>
        </div>
      </div>

      <!-- Contact Form -->
      <div id="contact" class="bg-white rounded-2xl p-6 border border-rose-100 shadow-sm">
        <form id="enquiryForm" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <input class="rounded-xl border border-rose-200 px-4 py-3" type="text" name="name" placeholder="Your name" required>
          <input class="rounded-xl border border-rose-200 px-4 py-3" type="text" name="phone" placeholder="Phone / WhatsApp" required>
          <input class="rounded-xl border border-rose-200 px-4 py-3 sm:col-span-2" type="text" name="date" placeholder="Date needed (DD/MM)" required>
          
          <select class="rounded-xl border border-rose-200 px-4 py-3" name="product">
            <option>Cake</option><option>Cupcakes</option><option>Cookies</option><option>Bread</option>
          </select>
          <select class="rounded-xl border border-rose-200 px-4 py-3" name="size">
            <option>Small</option><option>Medium</option><option>Large</option>
          </select>
          <textarea class="rounded-xl border border-rose-200 px-4 py-3 sm:col-span-2" rows="3" name="message" placeholder="Theme / Flavours (e.g., strawberry, chocolate)"></textarea>
          
          <button type="submit" class="sm:col-span-2 btn btn-primary shadow-md hover:shadow-lg lift">Send Enquiry</button>
          <p class="sm:col-span-2 text-xs text-stone-500">Weâ€™ll reply soon on WhatsApp or Email.</p>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- EmailJS script -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  (function(){
    emailjs.init("service_gzw44t9"); // Replace with your EmailJS Public Key
  })();

  document.getElementById("enquiryForm").addEventListener("submit", function(event) {
    event.preventDefault();

    emailjs.sendForm("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", this)
      .then(function() {
        alert("âœ… Your enquiry has been sent to Ahyasa Bakes!");
        document.getElementById("enquiryForm").reset();
      }, function(error) {
        alert("âŒ Failed to send enquiry. Please try again.");
        console.error("Error:", error);
      });
  });
</script>


  <!-- Footer -->
  <footer class="py-10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row items-center justify-between gap-4">
      <p class="text-sm">Â© <span id="year"></span> ahyasa_bakes. Baked with love.</p>
      <div class="flex items-center gap-4 text-sm">
        <a class="hover:text-rose-600" href="#">Instagram</a>
        <a class="hover:text-rose-600" href="https://wa.me/0000000000" target="_blank">WhatsApp</a>
        <a class="hover:text-rose-600" href="mailto:hello@ahyasabakes.com">Email</a>
      </div>
    </div>
  </footer>

  <!-- Floating Window (promo/order) -->
  <div id="floating" class="fixed bottom-5 right-5 z-40">
    <button id="floatBadge" class="floaty flex items-center gap-3 px-4 py-3 rounded-2xl bg-white border border-rose-200 shadow-lg hover:shadow-xl">
      <span class="inline-flex h-8 w-8 items-center justify-center rounded-xl text-white brand-gradient text-sm font-extrabold">NEW</span>
      <div class="text-left">
        <p class="text-sm font-extrabold">Todayâ€™s Special</p>
        <p class="text-xs text-stone-600">Strawberry Shortcake â‚¹299</p>
      </div>
    </button>
    <div id="floatCard" class="mt-3 w-[22rem] hidden bg-white rounded-2xl border border-rose-200 shadow-2xl overflow-hidden">
      <div class="p-4 flex items-start gap-3">
        <img class="w-16 h-16 rounded-xl object-cover" src="https://images.unsplash.com/photo-1511910849309-0dffb86f3e9a?q=80&w=800&auto=format&fit=crop" alt="Strawberry Shortcake">
        <div class="flex-1">
          <p class="font-extrabold">Strawberry Shortcake (Slice)</p>
          <p class="text-xs text-stone-600">Fresh cream â€¢ Real berries</p>
        </div>
        <button id="closeFloat" class="text-stone-400 hover:text-stone-600">âœ•</button>
      </div>
      <div class="px-4 pb-4 flex items-center justify-between">
        <span class="font-bold">â‚¹299</span>
        <div class="flex items-center gap-2">
          <button class="px-4 py-2 rounded-xl border border-rose-200 bg-white hover:bg-rose-50" id="viewMenuBtn">View Menu</button>
          <button class="px-4 py-2 rounded-xl text-white brand-gradient" onclick="openCart()">Order</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ---------- CONFIG ----------
    const UPI_ID = 'sadiyakhan9901@okhdfcbank';
    const UPI_NAME = 'Sadiya Khan'; // shown in the modal / UPI deep-link
    const MENU_ITEMS = [
      { id:'strawberry_shortcake', name:'Strawberry Shortcake', price:699, desc:'Vanilla sponge, fresh cream, real strawberries.' },
      { id:'choco_overload', name:'Chocolate Overload Cake', price:749, desc:'Rich cocoa layers, ganache finish, choco crunch.' },
      { id:'rv_cupcakes_6', name:'Red Velvet Cupcakes (6)', price:399, desc:'Silky crumb with cream cheese swirls.' },
      { id:'butter_cookies_12', name:'Butter Cookies (12)', price:299, desc:'Melt-in-mouth, lightly sweet, vanilla scented.' },
      { id:'croissant', name:'Croissant (Classic)', price:149, desc:'Flaky, buttery, baked fresh every morning.' },
      { id:'cheesecake_slice', name:'Cheesecake (Slice)', price:229, desc:'New York style, buttery biscuit base.' },
    ];

    // ---------- UTIL ----------
    const fmt = n => n.toLocaleString('en-IN');

    // ---------- RENDER MENU WITH ADD BUTTONS ----------
    const grid = document.getElementById('menuGrid');
    grid.innerHTML = MENU_ITEMS.map(item => `
      <article class="bg-white rounded-2xl p-5 border border-rose-100 lift">
        <div class="flex items-center justify-between">
          <h3 class="font-extrabold">${item.name}</h3>
          <span class="badge bg-rose-50 text-rose-700 text-sm">â‚¹${fmt(item.price)}</span>
        </div>
        <p class="text-sm text-stone-600 mt-2">${item.desc}</p>
        <div class="mt-4 flex items-center justify-between">
          <button onclick="addToCart('${item.id}')" class="btn btn-primary">Add</button>
          <button onclick="customizeItem('${item.name}')" class="btn btn-outline hover:bg-rose-50">Customize</button>
        </div>
      </article>
    `).join('');

    function customizeItem(name){
      alert('Tell us your customisation for "'+name+'". In production this would open a form.');
    }

    // ---------- CART STATE ----------
    const cart = {}; // id -> {item, qty}
    const cartPanel = document.getElementById('cartPanel');
    const cartItemsEl = document.getElementById('cartItems');
    const cartTotalEl = document.getElementById('cartTotal');
    const countBadges = [document.getElementById('cartCountBadge'), document.getElementById('cartCountBadgeSm')];

    function addToCart(id){
      const item = MENU_ITEMS.find(m => m.id === id);
      if(!item) return;
      if(!cart[id]) cart[id] = { item, qty: 0 };
      cart[id].qty++;
      renderCart();
      openCart();
    }

    function changeQty(id, delta){
      if(!cart[id]) return;
      cart[id].qty += delta;
      if(cart[id].qty <= 0) delete cart[id];
      renderCart();
    }

    function getTotals(){
      let totalQty = 0, total = 0;
      Object.values(cart).forEach(({item, qty}) => { totalQty += qty; total += item.price * qty; });
      return { totalQty, total };
    }

    function renderCart(){
      const rows = Object.values(cart).map(({item, qty})=>`
        <div class="p-3 border border-rose-100 rounded-xl flex items-center justify-between">
          <div>
            <p class="font-bold">${item.name}</p>
            <p class="text-xs text-stone-500">â‚¹${fmt(item.price)} Ã— ${qty}</p>
          </div>
          <div class="flex items-center gap-2">
            <button class="px-3 py-1 rounded-lg border hover:bg-rose-50" onclick="changeQty('${item.id}',-1)">âˆ’</button>
            <span class="w-6 text-center">${qty}</span>
            <button class="px-3 py-1 rounded-lg border hover:bg-rose-50" onclick="changeQty('${item.id}',+1)">+</button>
          </div>
        </div>
      `);
      cartItemsEl.innerHTML = rows.length ? rows.join('') : `<p class="text-sm text-stone-500">Your cart is empty. Add something delicious from the menu!</p>`;
      const { totalQty, total } = getTotals();
      cartTotalEl.textContent = fmt(total);
      // badges
      countBadges.forEach(b=>{
        if(totalQty>0){ b.textContent = totalQty; b.classList.remove('hidden'); }
        else { b.classList.add('hidden'); }
      });
      // update UPI links + modal amount
      const upi = makeUpiLink(total);
      document.getElementById('upiPayBtn').href = upi;
      document.getElementById('upiPayBtn2').href = upi;
      document.getElementById('qrAmount').textContent = fmt(total);
    }

    function makeUpiLink(amount){
      // Minimal UPI deep link (works with most UPI apps)
      const params = new URLSearchParams({
        pa: UPI_ID,       // payee address
        pn: UPI_NAME,     // payee name
        tn: 'Order from Ahyasa Bakes',
        am: String(amount || 0),
        cu: 'INR'
      });
      return 'upi://pay?'+params.toString();
    }

    // ---------- CART PANEL OPEN/CLOSE ----------
    function openCart(){ cartPanel.classList.remove('translate-x-full'); }
    function closeCart(){ cartPanel.classList.add('translate-x-full'); }

    document.getElementById('openCart').addEventListener('click', openCart);
    document.getElementById('openCartSm').addEventListener('click', openCart);
    document.getElementById('openCart2').addEventListener('click', openCart);
    document.getElementById('closeCart').addEventListener('click', closeCart);

    // QR modal
    const qrModal = document.getElementById('qrModal');
    document.getElementById('showQR').addEventListener('click', ()=>{ qrModal.classList.remove('hidden'); });
    document.getElementById('closeQR').addEventListener('click', ()=>{ qrModal.classList.add('hidden'); });
    document.getElementById('copyUpi').addEventListener('click', async ()=>{
      try{ await navigator.clipboard.writeText(UPI_ID); alert('UPI ID copied: '+UPI_ID); }
      catch{ alert('Unable to copy. UPI ID: '+UPI_ID); }
    });

    // ---------- OTHER UI (drawer, floating, gsap, misc) ----------
    document.getElementById('year').textContent = new Date().getFullYear();

    const drawer = document.getElementById('drawer');
    document.getElementById('openNav').addEventListener('click', () => drawer.classList.remove('hidden'));
    document.getElementById('closeNav').addEventListener('click', () => drawer.classList.add('hidden'));
    document.getElementById('drawerBackdrop').addEventListener('click', () => drawer.classList.add('hidden'));

    // floating promo
    const badge = document.getElementById('floatBadge');
    const card  = document.getElementById('floatCard');
    const close = document.getElementById('closeFloat');
    const viewMenuBtn = document.getElementById('viewMenuBtn');
    let open = false;
    function toggleCard(force){ open = force ?? !open; if(open){ card.classList.remove('hidden'); badge.classList.add('hidden'); } else { card.classList.add('hidden'); badge.classList.remove('hidden'); } }
    badge.addEventListener('click', () => toggleCard(true));
    close.addEventListener('click', () => toggleCard(false));
    viewMenuBtn.addEventListener('click', () => { toggleCard(false); document.getElementById('menu').scrollIntoView({behavior:'smooth'}); });

    // GSAP sprinkles
    try{
      gsap.registerPlugin(ScrollTrigger);
      gsap.from('#home h1', { y:30, opacity:0, duration:.8, ease:'power2.out' });
      gsap.from('#home p', { y:20, opacity:0, delay:.2, duration:.8, ease:'power2.out' });
      document.querySelectorAll('.lift').forEach((el) => {
        gsap.from(el, { y:24, opacity:0, duration:.6, ease:'power2.out', scrollTrigger:{ trigger: el, start: 'top 85%' } });
      });
    }catch(e){/* animations optional */}

    // demo form
    document.getElementById('fakeSubmit').addEventListener('click', () => {
      alert('Thanks! For a quick response, tap the WhatsApp button. This demo form doesn\'t send yet.');
    });

    // initial render
    renderCart();
  </script>
</body>
</html>
